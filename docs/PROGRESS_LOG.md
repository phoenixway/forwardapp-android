2025-11-12: Перезаписано MASTER_PLAN.md під KMP-стратегію без IPC і без CI. Додано етапи: (1) мінімальна настройка KMP-модуля з js(IR)+nodejs і генерацією .d.ts; (2) інтеграція Android через проектну залежність :shared; (3) пакування shared у npm (локально) з make-ціллю; (4) підключення Electron до локального npm-пакета; (5) уніфіковані локальні команди та тестування. Наступні кроки: додати make-цілі і шаблон package.json для shared npm.
2025-11-14: Відновлено Checklists + ChecklistItems у shared-модулі: додані SQLDelight таблиці та міграція, створений ChecklistRepository з мапперами/доменними моделями, інтегрований у RepositoryModule та покритий jvmTest (ChecklistRepositoryTest).
2025-11-14: Додано Attachments + ProjectAttachmentCrossRef як перший крос-реф кейс: створені `.sq` + міграція 0002, новий AttachmentsRepository з транзакційною логікою посилань, jvmTest для CRUD/каскадів та секція «Крос-реф таблиці» в docs/SQLDELIGHT_MIGRATIONS.md.
2025-11-14: Запущено повноцінний Electron+React застосунок у `apps/desktop`, який споживає npm-пакет `@forwardapp/shared-kmp` (через новий `DesktopProjectApi`). Реалізовано головний екран з CRUD для проєктів, готові dev/build скрипти, README та типи для спільного шару.
2025-11-14: Відновлено ProjectArtifacts для Advanced Project View: додана таблиця + запити в shared SQLDelight, міграція 0003, KMP-репозиторій з мапперами/DI, а також `ProjectArtifactRepositoryTest` (спостереження/CRUD). Наступний крок — під’єднати UI advanced view до нового репозиторію.
2025-11-14: Відновлено ActivityRecords + FTS: створено `.sq` з тригерами, міграція 0004, доменна модель у `features/activitytracker`, KMP-репозиторій + DI та `ActivityRecordsRepositoryTest` (сорування, пошук, ongoing). `make test` тепер запускає і `:packages:shared:jvmTest`.
2025-11-14: Відновлено Reminders: додано таблицю `Reminders` + міграцію 0005, доменну модель/репозиторій у `features/reminders`, DI-провайдер та `RemindersRepositoryTest` (потоки, фільтрація, CRUD). Готово до підключення майбутнього reminder UI.
2025-11-15: Відновлено Day Management (DayPlans + DayTasks + DailyMetrics): перенесено схеми з кастомними типами, додано міграцію 0006, коло доменних моделей (DayStatus/TaskPriority/TaskStatus), репозиторії/DI, ColumnAdapter для map/list значень та jvmTests (`DayPlanRepositoryTest`, `DayTaskRepositoryTest`, `DailyMetricsRepositoryTest`). Day management feature пакетом готова до інтеграції UI.
2025-11-16: Виправлено імпорт `DayManagementRepository` на `DayPlanRepository` у `ProjectScreenViewModel.kt`.
2025-11-16: Виправлено імпорт `ActivityRecord` на `com.romankozak.forwardappmobile.shared.features.activitytracker.domain.model.ActivityRecord` у `ProjectScreenViewModel.kt`.
2025-11-16: Виправлено імпорт `ChecklistEntity` на `com.romankozak.forwardappmobile.shared.features.attachments.types.checklists.domain.model.Checklist` та оновлено використання `ChecklistEntity` на `Checklist` у `ProjectScreenViewModel.kt`.
2025-11-16: Виправлено імпорт `Goal` на `com.romankozak.forwardappmobile.shared.features.goals.data.models.Goal` у `ProjectScreenViewModel.kt`.
2025-11-16: Виправлено імпорт `LegacyNote` на `com.romankozak.forwardappmobile.shared.features.attachments.types.legacynotes.domain.model.LegacyNote` у `ProjectScreenViewModel.kt`.
2025-11-16: Виправлено імпорт `NoteDocument` на `com.romankozak.forwardappmobile.shared.features.attachments.types.notedocuments.domain.model.NoteDocument` у `ProjectScreenViewModel.kt`.
2025-11-16: Налаштовано DI для ViewModel через `kotlin-inject` з використанням `ViewModelProvider.Factory` для коректної роботи з `SavedStateHandle`. Створено `VIEWMODEL_INJECTION_GUIDE.md`. Реалізовано навігацію з головного екрана на `ProjectScreen` по кліку на проєкт.
2025-11-16: Завершено Етап 1: Відновлення базової структури UI та обробки подій для `ProjectScreen`. Реалізовано `Scaffold` з `TopAppBar` та завантаження назви проєкту у `ProjectScreenViewModel`.
2025-11-16: Завершено Етап 2: Реалізація перемикання режимів (View Modes) для `ProjectScreen`. Створено `ProjectViewMode` enum, UI-панель для перемикання та логіку в ViewModel для оновлення стану.
2025-11-16: Додано заглушки для дій у `TopAppBar` `ProjectScreen`, включаючи стилізований заголовок та кнопки "Пошук" і "Більше опцій" з тимчасовими Toast-повідомленнями.
2025-11-16: Відновлено `AdaptiveTopBar` з заглушками для нереалізованих дій.
2025-11-16: Відновлено `ModernInputPanel` з заглушками для нереалізованої логіки.
2025-11-16: Реалізовано режим "Inbox": додано логіку завантаження даних з `inboxRepository` та їх відображення у `ProjectScreen`.
2025-11-16: Розпочато реалізацію режиму "Backlog": створено `BacklogList.kt` із базовою структурою та заглушками для `ListItemView`, `GoalItem`, `LinkItem`. Заплановано копіювання реалізації з `dev` гілки.
2025-11-16: Виправлено `ClassCastException` у `ProjectScreen.kt` шляхом корекції лямбда-функції `onMove`.
2025-11-16: Реалізовано додавання цілей до беклогу: додано `insertListItem` до `ListItemRepository`, подію `AddBacklogGoal` та функцію `addBacklogGoal` у `ProjectScreenViewModel.kt`, а також модифіковано `ProjectScreen.kt` для відправки `AddBacklogGoal` з панелі вводу.
2025-11-16: Виправлено проблему з клавіатурою, що приховувала панель вводу, додавши `Modifier.navigationBarsPadding().imePadding()` до `Scaffold` у `ProjectScreen.kt`.
2025-11-16: Виправлено помилки компіляції, пов'язані з `kotlinx-datetime` та `uuid`, шляхом зміни області видимості залежностей з `implementation` на `api` у `packages/shared/build.gradle.kts`.
2025-11-16: Скопійовано та інтегровано внутрішні Composable-компоненти для `SubProjectItem` з гілки `dev` до `apps/android/src/main/java/com/romankozak/forwardappmobile/features/projectscreen/components/backlogitems/`: `AnimatedContextEmoji.kt`, `EnhancedRelatedLinkChip.kt`, `EnhancedReminderBadge.kt`, `Badges.kt` (з `EnhancedScoreStatusBadge`), `NoteIndicatorBadge.kt`, `ModernTagChip.kt`. Підтверджено існування `TagType` та `getTagColors` у `TagChip.kt`.
2025-11-16: Інтегровано `SubProjectItem` (перейменований `ProjectItem` з гілки `dev`) у `BacklogList.kt` та замінено `TODO` для `ListItemContent.SublistItem`.
2025-11-16: Реалізовано навігацію для кліків по `SubProjectItem`: додано подію `SubprojectClick` та `navigationEvents` `SharedFlow` у `ProjectScreenViewModel.kt`, а також збір цих подій у `ProjectScreen.kt` для навігації.
2025-11-17: Реалізовано додавання вкладених проектів з панелі вводу: додано `InputMode.AddNestedProject`, оновлено `ModernInputPanel` та `ProjectScreenViewModel` для створення нового проекту як під-проекту.
2025-11-17: Реалізовано зв'язування існуючих проектів як під-проектів: створено `ProjectChooserScreen` та `ProjectChooserViewModel` для вибору існуючого проекту, додано кнопку "Link" в `ModernInputPanel` та інтегровано `ProjectChooserScreen` у навігаційний граф з обробкою результату.
2025-11-19: Визначено місцезнаходження файлів Backlog UI в гілці `dev`: `ProjectScreen.kt`, `ProjectScreenViewModel.kt`, `ProjectScreenContent.kt` у `app/src/main/java/com/romankozak/forwardappmobile/ui/screens/projectscreen/`, а `BacklogList.kt` та `SwipeableBacklogItem.kt` у `app/src/main/java/com.romankozak.forwardappmobile/ui/features/backlog/`.
2025-11-19: Вивчено вміст `ProjectScreenViewModel.kt` з гілки `dev` для розуміння логіки завантаження даних та обробки подій беклогу.
2025-11-19: Вивчено вміст `ProjectScreen.kt` з гілки `dev` для розуміння загальної структури UI ProjectScreen.
2025-11-19: Вивчено вміст `ProjectScreenContent.kt` з гілки `dev`, який викликає `BacklogListScreen` для відображення беклогу.
2025-11-19: Вивчено вміст `BacklogList.kt` з гілки `dev`, який використовує `SwipeableBacklogItem`.
2025-11-19: Вивчено вміст `SwipeableBacklogItem.kt` з гілки `dev`, який обгортає `BacklogItem` та реалізує логіку свайпів.
2025-11-19: Оновлено `rememberParsedText` у `apps/android/src/main/java/com/romankozak/forwardappmobile/features/common/rememberParsedText.kt` для парсингу іконок. Оновлено `apps/android/src/main/java/com/romankozak/forwardappmobile/features/projectscreen/components/backlogitems/StatusIconsRow.kt` з реалізацією з гілки `dev` (з адаптованими імпортами). Оновлено `apps/android/src/main/java/com/romankozak/forwardappmobile/features/projectscreen/components/list/BacklogList.kt` для використання `ParsedTextData` (замість `ParsedData`) та виправлено `endAction` для `SubProjectItem`.