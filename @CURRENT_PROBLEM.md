поможи виправити помилки. в чому причина їх? може з таблиць не генеруються класи? як це перевірити? 

> Task :shared:compileDebugKotlinAndroid
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:6:56 Unresolved reference 'ProjectExecutionLogQueries'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:8:75 Unresolved reference 'mappers'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:16:26 Unresolved reference 'ProjectExecutionLogQueries'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:21:17 Unresolved reference 'selectByProjectId'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:22:14 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:23:14 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:23:14 Not enough information to infer type argument for 'T'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:14 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:14 Not enough information to infer type argument for 'T'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:20 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:28 Type mismatch: inferred type is 'kotlinx.coroutines.flow.Flow<R>', but 'kotlin.collections.List<com.romankozak.forwardappmobile.shared.features.projects.logs.data.model.ProjectExecutionLog>' was expected.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:33 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:37 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:24:42 Unresolved reference 'toSharedModel'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:46:9 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:46:35 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:47:21 None of the following candidates is applicable:
fun StringBuilder.insert(index: Int, value: Byte): StringBuilder
fun StringBuilder.insert(index: Int, value: Short): StringBuilder
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:59:9 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:59:35 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:60:21 None of the following candidates is applicable:
fun StringBuilder.insert(index: Int, value: Byte): StringBuilder
fun StringBuilder.insert(index: Int, value: Short): StringBuilder
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:72:9 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:72:35 Cannot infer type for this parameter. Please specify it explicitly.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/features/projects/data/logs/ProjectLogRepositoryImpl.kt:73:21 Unresolved reference 'deleteById'.
e: file:///home/romankozak/studio/public/forwardapp-suit/forwardapp-android/shared/src/androidMain/kotlin/com/romankozak/forwardappmobile/shared/features/projects/logs/data/ProjectExecutionLogRepositoryImpl.kt:22:42 Unresolved reference. None of the following candidates is applicable because of a receiver type mismatch:
fun ProjectExecutionLog.toDomain(): ProjectExecutionLog

> Task :shared:compileDebugKotlinAndroid FAILED

***

// File: ProjectExecutionLog.kt

package com.romankozak.forwardappmobile.shared.features.projects.logs.data.model

import kotlinx.serialization.Serializable

@Serializable
data class ProjectExecutionLog(
val id: String,
val projectId: String,
val timestamp: Long,
val type: String,
val description: String,
val details: String? = null,
)

***

// File: ProjectExecutionLogMapper.kt

package com.romankozak.forwardappmobile.shared.features.projects.logs.data

import com.romankozak.forwardappmobile.shared.features.projects.logs.data.model.ProjectExecutionLog

fun ProjectExecutionLog.toDomain(): ProjectExecutionLog {
return ProjectExecutionLog(
id = this.id,
projectId = this.projectId,
timestamp = this.timestamp,
type = this.type,
description = this.description,
details = this.details
)
}

***

package com.romankozak.forwardappmobile.shared.features.projects.logs.domain

import com.romankozak.forwardappmobile.shared.features.projects.logs.data.model.ProjectExecutionLog
import kotlinx.coroutines.flow.Flow

interface ProjectExecutionLogRepository {
fun getProjectLogsStream(projectId: String): Flow<List<ProjectExecutionLog>>
suspend fun addProjectLogEntry(log: ProjectExecutionLog)
suspend fun updateProjectExecutionLog(log: ProjectExecutionLog)
suspend fun deleteProjectExecutionLog(log: ProjectExecutionLog)
}

***

// File: ProjectExecutionLogRepositoryImpl.kt

package com.romankozak.forwardappmobile.shared.features.projects.logs.data

import app.cash.sqldelight.coroutines.asFlow
import app.cash.sqldelight.coroutines.mapToList
import com.romankozak.forwardappmobile.shared.database.ForwardAppDatabase
import com.romankozak.forwardappmobile.shared.features.projects.logs.data.model.ProjectExecutionLog
import com.romankozak.forwardappmobile.shared.features.projects.logs.domain.ProjectExecutionLogRepository
import kotlinx.coroutines.CoroutineDispatcher
import kotlinx.coroutines.flow.Flow
import kotlinx.coroutines.flow.map
import kotlinx.coroutines.withContext

class ProjectExecutionLogRepositoryImpl(
// WARNING: Class "ProjectExecutionLogRepositoryImpl" is never used
private val db: ForwardAppDatabase,
private val ioDispatcher: CoroutineDispatcher
) : ProjectExecutionLogRepository {

    override fun getProjectLogsStream(projectId: String): Flow<List<ProjectExecutionLog>> {
        return db.projectExecutionLogsQueries.selectAllByProjectId(projectId)
            .asFlow()
            .mapToList(ioDispatcher)
            .map { logs -> logs.map { it.toDomain() } }
// INFO: Automatically declared based on the expected type
// ERROR: Unresolved reference. None of the following candidates is applicable because of a receiver type mismatch:
fun ProjectExecutionLog.toDomain(): ProjectExecutionLog
}

    override suspend fun addProjectLogEntry(log: ProjectExecutionLog) {
        withContext(ioDispatcher) {
            db.projectExecutionLogsQueries.insert(
                id = log.id,
                projectId = log.projectId,
                timestamp = log.timestamp,
                type = log.type,
                description = log.description,
                details = log.details
            )
        }
    }

    override suspend fun updateProjectExecutionLog(log: ProjectExecutionLog) {
        withContext(ioDispatcher) {
            db.projectExecutionLogsQueries.update(
                id = log.id,
                description = log.description,
                details = log.details
            )
        }
    }

    override suspend fun deleteProjectExecutionLog(log: ProjectExecutionLog) {
        withContext(ioDispatcher) {
            db.projectExecutionLogsQueries.deleteById(log.id)
        }
    }
}

***

// File: ProjectExecutionLogs.sq

CREATE TABLE project_execution_logs (
id TEXT NOT NULL PRIMARY KEY,
projectId TEXT NOT NULL,
timestamp INTEGER NOT NULL,
type TEXT NOT NULL,
description TEXT NOT NULL,
details TEXT,
FOREIGN KEY(projectId) REFERENCES projects(id) ON DELETE CASCADE
);

-- Get all logs for a specific project
selectAllByProjectId:
SELECT * FROM project_execution_logs WHERE projectId = :projectId ORDER BY timestamp DESC;

-- Insert a new log
insert:
INSERT OR REPLACE INTO project_execution_logs(id, projectId, timestamp, type, description, details)
VALUES (?, ?, ?, ?, ?, ?);

-- Delete a log by its ID
deleteById:
DELETE FROM project_execution_logs WHERE id = :id;

-- Update a log
update:
UPDATE project_execution_logs
SET description = :description, details = :details
WHERE id = :id;


***

// File: ProjectExecutionLogsQueries.kt

package com.romankozak.forwardappmobile.shared.database

import app.cash.sqldelight.Query
import app.cash.sqldelight.TransacterImpl
import app.cash.sqldelight.db.QueryResult
import app.cash.sqldelight.db.SqlCursor
import app.cash.sqldelight.db.SqlDriver
import kotlin.Any
import kotlin.Long
import kotlin.String

public class ProjectExecutionLogsQueries(
driver: SqlDriver,
) : TransacterImpl(driver) {
public fun <T : Any> selectAllByProjectId(projectId: String, mapper: (
id: String,
projectId: String,
timestamp: Long,
type: String,
description: String,
details: String?,
) -> T): Query<T> = SelectAllByProjectIdQuery(projectId) { cursor ->
mapper(
cursor.getString(0)!!,
cursor.getString(1)!!,
cursor.getLong(2)!!,
cursor.getString(3)!!,
cursor.getString(4)!!,
cursor.getString(5)
)
}

public fun selectAllByProjectId(projectId: String): Query<Project_execution_logs> =
selectAllByProjectId(projectId) { id, projectId_, timestamp, type, description, details ->
Project_execution_logs(
id,
projectId_,
timestamp,
type,
description,
details
)
}

public fun insert(
id: String,
projectId: String,
timestamp: Long,
type: String,
description: String,
details: String?,
) {
driver.execute(-442_824_899, """
|INSERT OR REPLACE INTO project_execution_logs(id, projectId, timestamp, type, description, details)
|VALUES (?, ?, ?, ?, ?, ?)
""".trimMargin(), 6) {
bindString(0, id)
bindString(1, projectId)
bindLong(2, timestamp)
bindString(3, type)
bindString(4, description)
bindString(5, details)
}
notifyQueries(-442_824_899) { emit ->
emit("project_execution_logs")
}
}

public fun deleteById(id: String) {
driver.execute(902_949_537, """DELETE FROM project_execution_logs WHERE id = ?""", 1) {
bindString(0, id)
}
notifyQueries(902_949_537) { emit ->
emit("project_execution_logs")
}
}

public fun update(
description: String,
details: String?,
id: String,
) {
driver.execute(-97_878_707, """
|UPDATE project_execution_logs
|SET description = ?, details = ?
|WHERE id = ?
""".trimMargin(), 3) {
bindString(0, description)
bindString(1, details)
bindString(2, id)
}
notifyQueries(-97_878_707) { emit ->
emit("project_execution_logs")
}
}

private inner class SelectAllByProjectIdQuery<out T : Any>(
public val projectId: String,
mapper: (SqlCursor) -> T,
) : Query<T>(mapper) {
override fun addListener(listener: Query.Listener) {
driver.addListener("project_execution_logs", listener = listener)
}

    override fun removeListener(listener: Query.Listener) {
      driver.removeListener("project_execution_logs", listener = listener)
    }

    override fun <R> execute(mapper: (SqlCursor) -> QueryResult<R>): QueryResult<R> =
        driver.executeQuery(1_890_069_692,
        """SELECT project_execution_logs.id, project_execution_logs.projectId, project_execution_logs.timestamp, project_execution_logs.type, project_execution_logs.description, project_execution_logs.details FROM project_execution_logs WHERE projectId = ? ORDER BY timestamp DESC""",
        mapper, 1) {
      bindString(0, projectId)
    }

    override fun toString(): String = "ProjectExecutionLogs.sq:selectAllByProjectId"
}
}


***

// File: Project_execution_logs.kt

package com.romankozak.forwardappmobile.shared.database

import kotlin.Long
import kotlin.String

public data class Project_execution_logs(
public val id: String,
public val projectId: String,
public val timestamp: Long,
public val type: String,
public val description: String,
public val details: String?,
)

