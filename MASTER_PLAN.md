# Master Plan

## Фаза 8: Покращення функціоналу чекбоксів

- [x] **Крок 1: Оновити `GoalItem.kt`**
    - [x] Не замінювати іконку чекбоксом, а показувати їх разом (іконка поруч з чекбоксом).

- [x] **Крок 2: Додати чекбокси для підпроектів**
    - [x] Знайти composable, що відповідає за рендеринг підпроектів (`SubprojectItemRow.kt`).
    - [x] Додати параметр `showCheckbox: Boolean`.
    - [x] Додати `Checkbox`, видимість якого залежить від `showCheckbox`.
    - [x] `checked` стан чекбоксу брати з `project.isCompleted`.

- [x] **Крок 3: Оновити `BacklogView.kt`**
    - [x] Передати `uiState.showCheckboxes` до `SubprojectItemRow`.

- [x] **Крок 4: Перевірка**
    - [x] Скомпілювати проект і перевірити, що іконки цілей та чекбокси підпроектів відображаються коректно.

## Фаза 7: Реалізація функціоналу "Показувати чекбокси"

- [x] **Крок 1: Модифікувати `ProjectScreenViewModel.kt`**
    - [x] В `UiState` додати нове поле `showCheckboxes: Boolean`.
    - [x] В `BacklogViewModel` підписатися на зміни в `project.showCheckboxes` і оновлювати `uiState.showCheckboxes`.

- [x] **Крок 2: Додати чекбокс до `GoalItem.kt`**
    - [x] Додати новий параметр `showCheckbox: Boolean` до `GoalItem`.
    - [x] Додати `Checkbox` на початку `Row` в `GoalItem`.
    - [x] Стан `checked` для чекбоксу брати з `goal.completed`.
    - [x] Видимість самого `Checkbox` зробити залежною від нового параметру `showCheckbox`.

- [x] **Крок 3: Оновити `BacklogView.kt`**
    - [x] Взяти `showCheckboxes` з `uiState`.
    - [x] Передати цей параметр до `GoalItem` під час його виклику.

- [x] **Крок 4: Перевірка**
    - [x] Скомпілювати проект і перевірити, що чекбокси з'являються і зникають відповідно до налаштувань проекту.

## Фаза 6: Інтерактивні чекбокси в редакторі

- [x] Зробити чекбокси клікабельними безпосередньо в редакторі.
  - [x] Додати обробник натискань на `BasicTextField`.
  - [x] Визначати, чи було натискання на чекбоксі.
  - [x] Модифікувати `onToggleCheckbox` для роботи з конкретним рядком.
  - [x] Реалізувати логіку перемикання чекбоку за індексом рядка.
- [x] **ВИПРАВИТИ:** Усунути помилки компіляції в `UniversalEditorScreen.kt`.
  - [x] Виправити екранування символів у всіх регулярних виразах.

## Фаза 5: Функціонал чекбоксів у редакторі

- [x] Реалізувати рендеринг Markdown чекбоксів (`- [ ]`, `- [x]`)
- [x] Додати в тулбар дію для роботи з чекбоксами.
  - [x] Перемикати стан існуючого чекбокса в поточному рядку.
  - [x] Перетворювати поточний рядок на елемент списку з чекбоксом, зберігаючи відступ.
- [x] Перевірити зміни шляхом компіляції.

## Фаза 1: Відновлення та рефакторинг UI

- [x] Відновити відображення списку завдань (TaskList) на екрані `DayPlanScreen`.
  - [x] Проаналізувати `DayPlanScreen.kt` та пов'''язані файли (`DayPlanViewModel.kt`, `tasklist/TaskList.kt`), щоб знайти причину проблеми.
  - [x] Крок за кроком відновити передачу даних та виклик `TaskList`, перевіряючи сумісність типів.
  - [x] Переконатися, що список завдань коректно відображається з актуальними даними.
  - [x] Провести компіляцію, щоб перевірити відсутність помилок.
- [x] Покращити візуальний вигляд `TaskGoalItem`, щоб зробити його більш однорідним та завершеним.
  - [x] Проаналізувати поточний код `TaskGoalItem` у файлі `TaskList.kt`.
  - [x] Визначити та реалізувати покращення для візуальної ієрархії, відступів та обробки різних станів завдання.
  - [x] Перевірити зміни шляхом компіляції.

## Фаза 2: Розширення функціоналу головного екрану

- [x] Додати режим фокусування на екрані ієрархії проектів.
  - [x] Проаналізувати `MainScreen.kt` та `MainScreenViewModel.kt`.
  - [x] Знайти меню `MoreVert` для елемента проекту.
  - [x] Додати в ViewModel стан для "фокусованого проекту".
  - [x] Додати пункт меню "Режим фокусування".
  - [x] Реалізувати логіку фільтрації для відображення лише обраного проекту та його нащадків.
  - [x] Додати можливість виходу з режиму фокусування.

## Фаза 3: Покращення UX панелі вводу

- [x] Повертати `ModernInputPanel` в режим навігації після зміни режиму відображення проекту.
  - [x] Знайти та проаналізувати `ModernInputPanel`.
  - [x] Зрозуміти логіку режимів відображення та "режиму навігації".
  - [x] Реалізувати повернення до режиму навігації при кліку на кнопки зміни режиму.
  - [x] Перевірити зміни шляхом компіляції.

## Фаза 4: Виправлення помилок

- [ ] Закривати екран редагування налаштувань цілі після збереження.
  - [ ] Знайти екран редагування налаштувань цілі.
  - [ ] Проаналізувати обробник кнопки "Зберегти".
  - [ ] Додати логіку закриття екрану після збереження.
  - [ ] Перевірити зміни шляхом компіляції.